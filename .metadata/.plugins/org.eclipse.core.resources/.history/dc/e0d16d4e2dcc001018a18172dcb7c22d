<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>

<%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>
<%@ taglib uri="http://tiles.apache.org/tags-tiles" prefix="tiles"%>

<c:set var="contextPath" value="${pageContext.request.contextPath}" />

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Building & Assets Management System</title>
	
     <!-- Fonts and icons -->
     <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
     <!-- FontAswom-->
     <link href="${contextPath}/assets/fonts/css/all.min.css" rel="stylesheet">
     <!--Bootsrap5-->
     <link href="${contextPath}/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
     <!-- Bootsrap Select Picker -->
     <link href="${contextPath}/assets/vendor/bootstrap-selectpicker/bootstrap-select.min.css" rel="stylesheet" type="text/css">
     <!-- DataTable css -->
     <link href="${contextPath}/assets/vendor/datatable/datatables.min.css" rel="stylesheet" />
     <!-- Datepicker css -->
     <link href="${contextPath}/assets/vendor/datepicker/jquery.datepick.css" rel="stylesheet" />
     <!-- Custom CSS -->
     <link href="${contextPath}/assets/css/style.css" rel="stylesheet" type="text/css">
 
     <!-- Jquery Min -->
     <script src="${contextPath}/assets/js/jquery.js" type="text/javascript" ></script>
 
     <!-- START  -->
     
         <!-- This Area is Only For Project specific CSS, PluginCss, style -->
     <!-- END -->
</head>


<body>
    <%@ include file="/WEB-INF/views/stageConfig/stageRawPage.jsp"%>
    <%@ include file="/WEB-INF/views/message.jsp"%>
	<tiles:insertAttribute name="body" />
	
	<!-- Bootstrap bundle js -->
    <script src="${contextPath}/assets/vendor/bootstrap/js/bootstrap.bundle.min.js" type="text/javascript" ></script>
    <!-- Bootstrap Select Picker -->
    <script src="${contextPath}/assets/vendor/bootstrap-selectpicker/bootstrap-select.min.js" type="text/javascript" ></script>
    <!-- DataTable js -->
    <script src="${contextPath}/assets/vendor/datatable/datatables.min.js" type="text/javascript" ></script>
    <!-- Datepicker js -->
    <script src="${contextPath}/assets/vendor/datepicker/jquery.plugin.min.js" type="text/javascript" ></script>
    <script src="${contextPath}/assets/vendor/datepicker/jquery.datepick.min.js" type="text/javascript" ></script>
    <!-- Bootbox js -->
    <script src="${contextPath}/assets/vendor/bootbox/bootbox.all.js" type="text/javascript" ></script>
    <!-- Custom JS -->
    <script>window.ctxPath='${contextPath}';</script>
    <script src="${contextPath}/assets/js/custom.js" type="text/javascript" ></script>
    <script src="${contextPath}/assets/utilsJs/commonFunctions.js"></script>
    <script src="${contextPath}/assets/utilsJs/helperFunctionsScripts.js"></script>
    <script src="${contextPath}/assets/utilsJs/dataEncryption.js"></script>
    <script src="${contextPath}/assets/utilsJs/validate.js"></script>


    <script src="${pageContext.request.contextPath}/assets/js/encrypt/AesUtil.js"></script>
    <script src="${pageContext.request.contextPath}/assets/js/encrypt/aes.js"></script>
    <script src="${pageContext.request.contextPath}/assets/js/encrypt/pbkdf2.js"></script>
    <script src="${pageContext.request.contextPath}/assets/js/encrypt/lbase.js"></script>
    <form id="moduleForm" action="${contextPath}/moduleDirectory" method="post">
        <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
        <input type="hidden" name="moduleCode" id="moduleId" />
    </form>
<script>
    function backToModule(){
       let currentModuleCode =  localStorage.getItem('currentModuleCode');
       $('#moduleId').val(enc_password(currentModuleCode));
       $('#moduleForm').submit();
    }
</script>
</body>

</html>
