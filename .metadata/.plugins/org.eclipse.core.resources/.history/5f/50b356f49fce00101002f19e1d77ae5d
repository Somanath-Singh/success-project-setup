<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%>
<c:set var="contextPath" value="${pageContext.request.contextPath}" />
<script src="${contextPath}/assets/appJs/validation/common-utils.js"></script>

<style>


body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
}
 .navbar{
     background: #36a2eb;
     height: 100px !important;
     padding: 13px !important;
     padding-left: 80px !important;
     padding-right: 80px !important;
 }
 .navbar .riteside li:last-child p{color:#ffffff;}
 .navbar .riteside li:last-child span{color: #aebbe9 !important;}

 .page-title {
     color: #ffe3ee;
     font-size: 23px;
     font-weight: 500;
     margin-left: 15px;
 } 
 .main {
     position:relative;
     width:100%;
     left:0;
     height:100vh;
    padding:0;
 }

.main::before {
    position: absolute;
    content: '';
    bottom: 0px;
    left: 0;
    background-image: url('${contextPath}/assets/images/Dashboard.png'); 
    height: 100%;
    width: 100%;
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
       backdrop-filter: blur(1px);   
   -webkit-backdrop-filter: blur(6px);  
    z-index: 0;
}
 .sidebarBtn {
        background: #00ffff45;
        color: #fff !important;
    }
.clickable-cards-stack {
    width: 100%;
    display: flex;
    padding: 100px 60px; 
    position: relative;
    z-index: 1;
}
.module-row {
    display: flex;
  
    justify-content: space-around;
 /*    gap: 30px; */
    width: 100%;
    max-width: 1600px;
}

 .single-small-card {
    width: 260px;
    padding: 30px 15px;
    display: flex;
 /*    flex-direction: column; */
 gap:15px;
     justify-content: space-around;
    border-radius: 12px;
    align-items: center;
    background: #fff;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
    border-top: 10px solid #36a2eb; 
}

.single-small-card:hover {
    transform: translateY(-10px);
}


	.single-small-card:hover:before {
	    -webkit-animation: social-button-beat 1.5s ease-out;
	    animation: social-button-beat 1.5s ease-out ;
	}
	.single-small-card:hover:after {
	    -webkit-animation: social-button-beat 1.5s ease-out 0.4s;
	    animation: social-button-beat 1.5s ease-out 0.4s ;
	}
@keyframes social-button-beat {
    0% {
        transform: scale(1); /* Start at normal size */
        opacity: 0.5; /* Slightly visible */
    }
    50% {
        transform: scale(1.2); /* Grow larger */
        opacity: 0.1; /* Fades out */
    }
    100% {
        transform: scale(1); /* Return to normal size */
        opacity: 0; /* Fully transparent */
    }
}

	/* .single-small-card .main-img-div img {
    	width: 100%;
    	transition: all 0.4s;
	} */


	.single-small-card .main-img-div img {
    width: 100%;
    transition: all 0.4s;
    /* filter: drop-shadow(2px 2px 3px #000); */
    background: #e7e7e7;
    padding: 5px;
    border-radius: 10px;
    box-shadow: inset 3px 3px 5px #d2ffff1c, inset -3px -3px 10px #0f0e473b, 0px 0px 10px #bcffff4a;
    /* border: 1px solid #9cffff5c; */

}

	.single-small-card-content{
		text-align: center;
	    transition: all 0.5s;
	}
    .single-small-card-content h3 {
        color: #0f0e47;
        font-size: 15px;
        font-weight: 500;
        transition: all 0.5s;
        line-height: 20px;
        letter-spacing: 0.5px;
    }
    .main-img-div {
        width: 60px;
    }
	.single-small-card-content h4{
		display:none;
		font-size:12px;
		font-weight:400;
		color: #fff;
		margin: 14px 0;
		height:0;
		transition: all 0.5s;
		top: -35px;
    	position: relative;
	}
	.single-small-card .single-smallHeader h5{
	    font-weight: 500;
	    font-size: 14px;
	    color: #00ffff;
	    border: 1px solid #1565aa;
	    padding: 5px 15px;
	    border-radius: 26px;
	    line-height: 15px;
	    width: fit-content;
	    background: #0f0e47;
	    display: flex;
	    gap: 10px;
	    transition: all 0.3s ease-out;
	    cursor: pointer;
        position: relative;
        min-width: 90px;
	}
	.single-small-card .single-smallHeader h5 i{
	    position: absolute;
        right: 20px;
        transition: all 0.3s;
    }
	.single-small-card .single-smallHeader h5:hover i{
	    right: 7px;
	    opacity: 0;
	}
	.single-small-card-content i{
		margin-left: 8px;
		transition: all 0.3s;
	}


	.dropdown-toggle::after{
		color: #0f0e47 !important;
        font-size: 18px;
        vertical-align: 0;
        top: 50%;
        position: absolute;
        right: 10px;
	}
	.dot-icon{
	    display: none;
	}

	.sidebarBtn,#toggleFullscreen{
	    display: none !important;
	}

</style> 



<div class="clickable-cards-stack">
	<%@ include file="/WEB-INF/views/message.jsp"%>
	<%-- <div class="row module-row">
		<c:forEach var="module" items="${USER_MODULES}">
			<div class="col-md-2">
				<a href="javascript:void(0);" onclick="navigateToModule('${module.moduleCode}' , ${module.isUnderDevelopment})" class="single-small-card">
					<div class="main-img-div">
						<img alt="img-1" src="${contextPath}/assets/images/appIcons/${module.moduleIcon}" class="main-card-img">
					</div>
					<div class="single-small-card-content">
						<h3>${module.moduleName}</h3>
						<h4>${module.moduleDescription}</h4>
						<c:choose>
							<c:when test="${module.isUnderDevelopment == true}">
								<span class="text-danger" >Under Development</span><i class="fas fa-laptop-code text-danger"></i>
							</c:when>
						</c:choose>
					</div>
				</a>
			</div>
		</c:forEach>
	</div> --%>
</div>







<form id="moduleForm" action="${contextPath}/moduleDirectory" method="post">
	<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
	<input type="hidden" name="moduleCode" id="moduleId" />
</form>

<script>
	function navigateToModule(moduleCode, isUnderDevelopment){
		if(isUnderDevelopment){
			bootbox.alert("This module is under development. We know you are excited to use this module, but please wait for some time. We will notify you once it is ready.");
			return;
		}


		if(moduleCode != null && moduleCode != ''){
			localStorage.setItem('currentModuleCode', moduleCode);
			$('#moduleId').val(enc_password(moduleCode));
			$('#moduleForm').submit();
		}
	}
	
</script>