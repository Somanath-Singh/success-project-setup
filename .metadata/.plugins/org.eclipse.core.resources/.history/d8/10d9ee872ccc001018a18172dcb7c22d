<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>
<c:set var="contextPath" value="${pageContext.request.contextPath}" />

<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="pending-tab" data-bs-toggle="tab" data-bs-target="#pending" type="button" role="tab" aria-controls="pending" aria-selected="true" >PENDING</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="approved-tab" data-bs-toggle="tab" data-bs-target="#approved" type="button" role="tab" aria-controls="approved" aria-selected="false">APPROVED</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="rejected-tab" data-bs-toggle="tab" data-bs-target="#rejected" type="button" role="tab" aria-controls="rejected" aria-selected="false">REJECTED</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="reverted-tab" data-bs-toggle="tab" data-bs-target="#reverted" type="button" role="tab" aria-controls="reverted" aria-selected="false">REVERTED</button>
    </li>
    <li class="nav-item" role="presentation">
            <button class="nav-link active" id="yetToScheduled-tab" data-bs-toggle="tab" data-bs-target="#yetToScheduled" type="button" role="tab" aria-controls="yetToScheduled" aria-selected="false">YET TO SCHEDULED</button>
    </li>
    <li class="nav-item" role="presentation">
            <button class="nav-link" id="scheduled-tab" data-bs-toggle="tab" data-bs-target="#scheduled" type="button" role="tab" aria-controls="scheduled" aria-selected="false">RE-SCHEDULED</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link " id="selected-tab" data-bs-toggle="tab" data-bs-target="#selected" type="button" role="tab" aria-controls="selected" aria-selected="false">SELECTED</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="waitlisted-tab" data-bs-toggle="tab" data-bs-target="#waitlisted" type="button" role="tab" aria-controls="waitlisted" aria-selected="false">WAIT LISTED</button>
    </li>

</ul>

<div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="pending" role="tabpanel" aria-labelledby="pending-tab">
        <!-- Content for PENDING tab -->
    </div>
    <div class="tab-pane fade" id="approved" role="tabpanel" aria-labelledby="approved-tab">
        <!-- Content for APPROVED tab -->
    </div>
    <div class="tab-pane fade" id="rejected" role="tabpanel" aria-labelledby="rejected-tab">
        <!-- Content for REJECTED tab -->
    </div>
    <div class="tab-pane fade" id="reverted" role="tabpanel" aria-labelledby="reverted-tab">
        <!-- Content for REVERTED tab -->
    </div>
    <div class="tab-pane fade" id="yetToScheduled" role="tabpanel" aria-labelledby="yetToScheduled-tab">
        <!-- Content for YET TO SCHEDULED tab -->
    </div>
    <div class="tab-pane fade" id="scheduled" role="tabpanel" aria-labelledby="scheduled-tab">
        <!-- Content for SCHEDULED tab -->
    </div>
    <div class="tab-pane fade" id="selected" role="tabpanel" aria-labelledby="selected-tab">
        <!-- Content for SELECTED tab -->
    </div>
    <div class="tab-pane fade" id="waitlisted" role="tabpanel" aria-labelledby="waitlisted-tab">
        <!-- Content for WAIT LISTED tab -->
    </div>

</div>


<script type="text/javascript">
    var status_pending;
    var status_approved;
    var status_rejected;
    var status_reverted;
    var status_verified;
    var result_sts_selected;
    var result_sts_rejected;
    var result_sts_waitlisted;
    var filterStatus;


 function showTab(pageCall){
        status_pending = "${status_pending}";
        status_approved = "${status_approve}";
        status_rejected = "${status_reject}";
        status_reverted = "${status_reverted}";
        status_verified = "${status_verified}";
        result_sts_selected = "${result_sts_selected}";
        result_sts_rejected = "${result_sts_rejected}";
        result_sts_waitlisted = "${result_sts_waitlisted}";
        filterStatus = "${filterStatus}";



     //default hide all tabs
        $("#pending-tab").hide();
        $("#approved-tab").hide();
        $("#rejected-tab").hide();
        $("#reverted-tab").hide();
        $("#yetToScheduled-tab").hide();
        $("#scheduled-tab").hide();

        if(pageCall == "APPLICATION_SUBMIT") {

            //show pending ,Approve and Rejected tab
            $("#pending-tab").show();
            $("#approved-tab").show();
            $("#reverted-tab").hide();
            $("#rejected-tab").show();
            $("#yetToScheduled-tab").hide();
            $("#scheduled-tab").hide();
            $("#selected-tab").hide();
            $("#waitlisted-tab").hide();

            if(filterStatus == status_pending){
                $("#pending-tab").addClass("active");
            }
            else if(filterStatus == status_approved){
                $("#approved-tab").addClass("active");
                $("#pending-tab").removeClass("active");
            }
            else if(filterStatus == status_rejected){
                $("#rejected-tab").addClass("active");
                 $("#pending-tab").removeClass("active");
            }



        }
        else if(pageCall == "APPLICATION_SCRUTINY"){
            //show only pending , approve and rejected tab
                $("#pending-tab").show();
                $("#approved-tab").show();
                $("#yetToScheduled-tab").hide();
                $("#scheduled-tab").hide();
                $("#rejected-tab").show();
                $("#reverted-tab").hide();
                $("#selected-tab").hide();
                $("#waitlisted-tab").hide();

                if(filterStatus == status_pending){
                    $("#pending-tab").addClass("active");
                }
                else if(filterStatus == status_verified){
                    $("#approved-tab").addClass("active");
                     $("#pending-tab").removeClass("active");
                }
                else if(filterStatus == status_rejected){
                    $("#rejected-tab").addClass("active");
                     $("#pending-tab").removeClass("active");
                }
        }
        else if(pageCall == "APPLICATION_INTERVIEW_SCHEDULED"){
                //show only pending and approved tab
                    $("#pending-tab").hide();
                    $("#approved-tab").hide();
                    $("#rejected-tab").hide();
                    $("#reverted-tab").hide();
                    $("#yetToScheduled-tab").show();
                    $("#scheduled-tab").show();
                    $("#selected-tab").hide();
                    $("#waitlisted-tab").hide();

                    if(filterStatus == status_verified){
                        $("#yetToScheduled-tab").addClass("active");
                    }
                    else if(filterStatus == status_pending){
                        $("#scheduled-tab").addClass("active");
                        $("#yetToScheduled-tab").removeClass("active");
                    }
        }
        else if(pageCall == "APPLICATION_FINAL_RESULT"){
                //show only pending and approved tab
                    $("#pending-tab").show();
                     $("#waitlisted-tab").show();
                    $("#selected-tab").show();
                    $("#rejected-tab").show();
                    $("#approved-tab").hide();
                    $("#reverted-tab").hide();
                    $("#yetToScheduled-tab").hide();
                    $("#scheduled-tab").hide();

                    if(filterStatus == result_sts_selected){
                        $("#selected-tab").addClass("active");
                        $("#pending-tab").removeClass("active");
                    }
                    else if(filterStatus == result_sts_waitlisted){
                        $("#waitlisted-tab").addClass("active");
                        $("#pending-tab").removeClass("active");
                    }
                    else if(filterStatus == result_sts_rejected){
                        $("#rejected-tab").addClass("active");
                        $("#pending-tab").removeClass("active");
                    }
                    else if(filterStatus == status_pending){
                        $("#pending-tab").addClass("active");
                    }

          }else if(pageCall == "APPOINMENT"){
            //show only pending and approved tab
            $("#pending-tab").show();
            $("#rejected-tab").show();
            $("#approved-tab").show();
            $("#reverted-tab").hide();
            if(filterStatus == status_pending){
                $("#pending-tab").addClass("active");
            }
            else if(filterStatus == status_approved){
                $("#approved-tab").addClass("active");
                $("#pending-tab").removeClass("active");
            }
            else if(filterStatus == status_rejected){
                $("#rejected-tab").addClass("active");
                 $("#pending-tab").removeClass("active");
            }
            }

}
    
 
 $("#pending-tab").on('click', function() {
     if("${pageCallForTab}" === "APPOINMENT")
         filterForm(status_pending);
     else
         filterForm(status_pending);
     });
//if page call is scrutiny then change status to verified
 $("#approved-tab").on('click', function() {
      if("${pageCallForTab}" === "APPOINMENT")
        filterForm(status_approved);
      else
        filterForm(status_approved);
 });

 // Attach click handler for pending tab
    $("#pending-tab").on('click', function() {
        if("${pageCallForTab}" === "APPLICATION_SCRUTINY")
            filterForm(status_approved);
        else
            filterForm(status_pending);
        });
//if page call is scrutiny then change status to verified
    $("#approved-tab").on('click', function() {
         if("${pageCallForTab}" === "APPLICATION_SCRUTINY")
           filterForm(status_verified);
         else
           filterForm(status_approved);
    });
    $("#rejected-tab").on('click', function() {
        if("${pageCallForTab}" === "APPLICATION_FINAL_RESULT")
           filterForm(result_sts_rejected);
         else
            filterForm(status_rejected);
    });
    $("#reverted-tab").on('click', function() {
        filterForm(status_reverted);
    });
    $("#selected-tab").on('click', function() {
        filterForm(result_sts_selected);
    });
    $("#waitlisted-tab").on('click', function() {
        filterForm(result_sts_waitlisted);
    });
    $("#yetToScheduled-tab").on('click', function() {
         filterForm(status_verified);
    });
    $("#scheduled-tab").on('click', function() {
         filterForm(status_pending);
    });


    // hide all tabs
    $("#pending-tab").hide();
    $("#approved-tab").hide();
    $("#rejected-tab").hide();
    $("#reverted-tab").hide();
    $("#yetToScheduled-tab").hide();
    $("#scheduled-tab").hide();
    $("#selected-tab").hide();
    $("#waitlisted-tab").hide();


 </script>
