# HikariCP datasource settings for PostgreSQL
spring.datasource.type=com.zaxxer.hikari.HikariDataSource
spring.datasource.hikari.connectionTimeout=10000
spring.datasource.hikari.maximumPoolSize=20
spring.datasource.hikari.minimumIdle=5
spring.datasource.hikari.idleTimeout=30000
spring.datasource.hikari.maxLifetime=600000
spring.datasource.hikari.poolName=MyHikariPool
spring.datasource.hikari.registerMbeans=true
spring.datasource.hikari.connectionTestQuery=SELECT 1
spring.datasource.hikari.dataSourceClassName=org.postgresql.ds.PGSimpleDataSource

# Hibernate settings
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.show_sql=true

# Use the second-level cache if needed
spring.jpa.properties.hibernate.cache.use_second_level_cache=true
spring.jpa.properties.hibernate.cache.region.factory_class=org.hibernate.cache.ehcache.EhCacheRegionFactory
spring.jpa.properties.hibernate.cache.use_query_cache=true

# Enable HikariCP's metrics and monitoring
spring.datasource.hikari.metricsEnabled=true
spring.datasource.hikari.healthCheckRegistry=com.codahale.metrics.MetricRegistry
spring.datasource.hikari.metricsTrackerFactory=your.custom.metrics.tracker.factory

# Additional performance tuning for Spring Data JPA
spring.data.jpa.repositories.enabled=true
spring.data.jpa.repository.query.timeout=60000
spring.data.jpa.repository.query.preparation.from-seconds=5
